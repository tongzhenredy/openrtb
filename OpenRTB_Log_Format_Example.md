# Summary #

A description of a minimal log file schema based upon OpenRTB field naming.

This would be enough for a minimal reporting, payments etc.

Could be implemented on both sides, exchange and bidder.

NOTE:  Implementation would require many other details such as delimiters, data format, encoding, etc.


## Author ##

Neal Richter, Chief Scientist Rubicon Project and co-chair OpenRTB

## Transaction Log ##

| **Field Name** | **Scope** | **Field Type** | **Description** |
|:---------------|:----------|:---------------|:----------------|
| date           | required  | datestamp      | Date and time of the transaction |
| exchange\_id   | required  | string         | Unique ID of the transacting exchange |
| auction\_id    | required  | string         | Globally unique identifier for a given transaction, generated by the exchange |
| publisher\_id  | required  | string         | Publisher ID on the exchange. |
| site\_id       | required  | string         | Site ID on the exchange. |
| domain         | required  | string         | domain of the site |
| page           | optional  | string         | URL of the page where the impression will be shown. |
| section        | optional  | string         | ID of the section of the site, May be used for "zone, adunit, slot" etc IDs in the exchange. |
| country        | required  | string         | Country using ISO-3166-1 Alpha-3. |
| region         | optional  | string         | Region using ISO 3166-2. |
| metro          | optional  | string         | Pass the metro code (see http://code.google.com/apis/adwords/docs/appendix/metrocodes.html).  Metro codes are similar to but not exactly the same as Nielsen DMAs. |
| device\_make   | optional  | string         | Device make (e.g., “Apple”). |
| device\_model  | optional  | string         | Device model (e.g., “iPhone”). |
| os             | optional  | string         | Operating Sytem, (e.g, "iOS", "Mac OS X 10.7.5", "Windows 7") |
| browser        | optional  | string         | Browser string, minimal or entire user-agent |
| w              | required  | integer        | Width of the impression in pixels. |
| h              | required  | integer        | Heigth of the impression in pixels. |
| price          | required  | float          | clearing price in CPM.  WARNING/Best Practice Note: Although this value is a float, [OpenRTB](OpenRTB.md) strongly suggests using integer math for accounting to avoid rounding errors. |
| price\_floor   | optional  | float          | applicable price floor in CPM.  WARNING/Best Practice Note: Although this value is a float, [OpenRTB](OpenRTB.md) strongly suggests using integer math for accounting to avoid rounding errors. |
| bid\_id        | required  | Integer        | bid ID of the winning bid - references bids object |
| type           | optional  | string         | Type of the transaction within the exchange {open\_auction, first\_right, private, guaranteed} |

## Bid Log ##

| **Field Name** | **Scope** | **Field Type** | **Description** |
|:---------------|:----------|:---------------|:----------------|
| date           | required  | datestamp      | Date and time of the transaction |
| auction\_id    | required  | string         | Globally unique identifier for a given transaction, generated by the exchange |
| bid\_id        | required  | integer        | ID for the bid object chosen by the bidder for tracking and debugging purposes.  Useful when multiple bids are submitted for a single impression for a given seat. |
| adid           | optional  | string         | (Opaque Token) ID that references the ad to be served if the bid wins. |
| adomain        | optional  | array of strings | Advertiser’s primary or top-level domain for advertiser checking.  This can be a list of domains if there is a rotating creative.  However, exchanges may mandate that only one landing domain is allowed. |
| seat           | required  | string         | ID of the bidder seat on whose behalf this bid is made. |
| network        | required  | string         | ID of the seat's Network/DSP from which the bid was received |
| deal\_id       | required  | string         | Optional  ID of the Deal associated to the transaction |
| price          | required  | float          | Bid price in CPM.  WARNING/Best Practice Note: Although this value is a float, [OpenRTB](OpenRTB.md) strongly suggests using integer math for accounting to avoid rounding errors. |
| type           | optional  | enum           | Type of Bid { Bid CPM, Fixed CPM, Estimated CPM } |
| status         | optional  | enum           | Status of the bid in the auction: {valid, invalid, blocked} |